<!DOCTYPE html>
<html>
<body style="height:1000px;">
<div>The <a href="javascript:(function()%7Blet%20toImgScript%3Ddocument.createElement('SCRIPT')%3B%0A%2F%2F%20toImgScript.src%3D'http%3A%2F%2Flocalhost%3A8000%2Fworking_prototype%2FmyThreeAndToImg.js'%3B%0AtoImgScript.src%3D'https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FD-e-r-e-k%2FComputational-and-Studio-Practice%2Fworking_prototype%2FmyThreeAndToImg.js'%3B%0AtoImgScript.id%3D'bundle'%3B%0A%0A%0A%0A%2F%2F%20console.log(THREE)%3B%0A%0A%0A%2F%2F%20finish%20loading%20scripts%0AtoImgScript.onload%20%3D%20function()%0A%20%20%20%20%7B%0A%20%20%20%20%2F%2F%20const%20scene%20%3D%20new%20THREE.Scene()%3B%0A%20%20%20%20document.body.addEventListener('mousemove'%2C%20onMouseMove)%3B%0A%20%20%20%20var%20pos%20%3D%20%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20x%3A0%2C%0A%20%20%20%20%20%20%20%20y%3A0%0A%20%20%20%20%7D%3B%0A%20%20%20%20let%20loader%20%3D%20new%20THREE.TextureLoader()%3B%0A%20%20%20%20class%20part%20%7B%0A%20%20%20%20%20%20%20%20constructor(node%2C%20z)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.node%20%3D%20node%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.z%20%3D%20z%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.rect%20%3D%20node.getBoundingClientRect()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20addToGroup(group)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Image%20Loader%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20this.group%20%3D%20group%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20console.log(this.imgUrl)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20toImg.toPng(this.node)%0A%20%20%20%20%20%20%20%20%20%20%20%20.then(function%20(dataUrl)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20material%20%3D%20new%20THREE.MeshBasicMaterial(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20map%3A%20loader.load(dataUrl)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transparent%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20side%3A%20THREE.DoubleSide%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Plane%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20planG%20%3D%20new%20THREE.PlaneGeometry(this.rect.width%2Cthis.rect.height)%3B%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20planM%20%3Dnew%20THREE.Mesh(planG%2C%20material)%3B%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20x%20%3D%20this.rect.x-window.innerWidth%2F2%2Bthis.rect.width%2F2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20y%20%3D%20-this.rect.y%2Bdocument.body.clientHeight%2F2-this.rect.height%2F2%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20planM.position.set(x%2Cy%2Cthis.z)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20console.log(%22x%3A%20%22%2Bx%2B%22%20y%3A%20%22%2By)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.group.add(planM)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D.bind(this))%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%0A%0A%0A%20%20%20%20%2F%2F%20---canvas%20test---%0A%20%20%20%20const%20scene%20%3D%20new%20THREE.Scene()%3B%0A%20%20%20%20scene.background%20%3D%20new%20THREE.Color(%200xffffff%20)%3B%0A%20%20%20%20%2F%2F%20const%20camera%20%3D%20new%20THREE.PerspectiveCamera(%2020%2C%20window.innerWidth%20%2F%20window.innerHeight%2C%200.1%2C%203000%20)%3B%0A%20%20%20%20const%20camera%20%3D%20new%20THREE.OrthographicCamera(%20window.innerWidth%20%2F%20-%202%2C%20window.innerWidth%20%2F%202%2C%20document.body.clientHeight%20%2F%202%2C%20document.body.clientHeight%20%2F%20-%202%2C%201%2C%204000%20)%3B%0A%0A%20%20%20%20const%20cnv%20%3D%20document.createElement(%22CANVAS%22)%3B%0A%20%20%20%20cnv.setAttribute(%22style%22%2C%22position%3A%20absolute%3B%20z-index%3A%202147483647%3B%20top%3A%200px%3B%20left%3A%200px%22)%3B%0A%20%20%20%20const%20renderer%20%3D%20new%20THREE.WebGLRenderer(%7B%20antialias%3A%20true%2C%20canvas%3Acnv%20%7D)%3B%0A%20%20%20%20renderer.setSize(%20window.innerWidth%2C%20document.body.clientHeight%20)%3B%0A%20%20%20%20renderer.setPixelRatio(%20window.devicePixelRatio%20)%3B%0A%0A%0A%20%20%20%20document.body.appendChild(%20renderer.domElement%20)%3B%0A%0A%20%20%20%20camera.position.z%20%3D%202000%3B%0A%0A%20%20%20%20var%20group%20%3D%20new%20THREE.Group()%3B%0A%20%20%20%20scene.add(group)%3B%0A%0A%20%20%20%20%2F%2F%20---part%20test---%20%0A%0A%20%20%20%20%2F%2F%20let%20testNode%20%3D%20document.getElementById('title-input')%3B%0A%0A%20%20%20%20%2F%2F%20toImg.toPng(testNode)%0A%20%20%20%20%2F%2F%20.then(function%20(dataUrl)%20%7B%0A%20%20%20%20%2F%2F%20%20%20%20%20let%20testPart%20%3D%20new%20part(testNode%2C%200%2C%20dataUrl)%3B%0A%20%20%20%20%2F%2F%20%20%20%20%20testPart.addToGroup(group)%3B%0A%20%20%20%20%2F%2F%20%20%20%20%20%2F%2F%20console.log(%22x%3A%20%22%20%2B%20testPart.rect.x%20%2B%20%22%20y%3A%20%22%20%2B%20testPart.rect.y%20%20%2B%20%22%20width%3A%20%22%20%2B%20testPart.rect.width%20%2B%20%22%20height%3A%20%22%20%2BtestPart.rect.height)%3B%0A%20%20%20%20%2F%2F%20%20%20%20%20%2F%2F%20console.log(testPart.imgUrl)%3B%0A%20%20%20%20%2F%2F%20%7D)%3B%0A%20%20%20%20let%20tempParts%20%3D%20%5B%5D%3B%0A%20%20%20%20transverse(document.body%2C%20-400)%3B%0A%20%20%20%20tempParts.forEach((part)%3D%3Epart.addToGroup(group))%3B%0A%20%20%20%20%0A%20%20%20%20function%20transverse(node%2C%20z)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20toImg.toPng(node)%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20.then(function%20(dataUrl)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20let%20tempPart%20%3D%20new%20part(node%2C%20z%2C%20dataUrl)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20tempParts.push(tempPart)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20tempPart.addToGroup(group)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%2F%2F%20console.log(%22x%3A%20%22%20%2B%20testPart.rect.x%20%2B%20%22%20y%3A%20%22%20%2B%20testPart.rect.y%20%20%2B%20%22%20width%3A%20%22%20%2B%20testPart.rect.width%20%2B%20%22%20height%3A%20%22%20%2BtestPart.rect.height)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%2F%2F%20console.log(testPart.imgUrl)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20let%20tempPart%20%3D%20new%20part(node%2C%20z)%3B%0A%20%20%20%20%20%20%20%20tempParts.push(tempPart)%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20tempPart.addToGroup(group)%3B%0A%20%20%20%20%20%20%20%20let%20nodes%20%3D%20node.childNodes%3B%0A%20%20%20%20%20%20%20%20for%20(let%20i%3D0%3B%20i%3Cnodes.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(!nodes%5Bi%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(nodes%5Bi%5D.childNodes.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transverse(nodes%5Bi%5D%2C%20z%2B100%2Bi)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%7D%0A%0A%20%20%20%20animate()%3B%0A%0A%20%20%20%20%2F%2F%20Render%0A%20%20%20%20function%20animate()%20%7B%0A%20%20%20%20%20%20%20%20if(pos.x)%7B%0A%20%20%20%20%20%20%20%20group.rotation.y%20%3D%20pos.x%2Fwindow.innerWidth*Math.PI%20-%20Math.PI%2F2%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20group.rotation.y%2B%3D0.005%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20requestAnimationFrame(%20animate%20)%3B%0A%20%20%20%20%20%20%20%20renderer.render(%20scene%2C%20camera%20)%3B%0A%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20function%20onMouseMove%20(e)%20%7B%0A%20%20%20%20%20%20%20%20pos%20%3D%20%7Bx%3A%20e.clientX%2C%20y%3A%20e.clientY%7D%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20console.log(%22Mouse%20move%22)%3B%0A%20%20%20%20%7D%7D%3B%0A%0Adocument.body.appendChild(toImgScript)%3B%7D)()%3B">bookmarklet</a> it may takes a long time to load wait for it (drag it to your bookmark bar to try on other sites, please note it has many know issues and may crash Chrome on some cases)</div>
</body>
</html>